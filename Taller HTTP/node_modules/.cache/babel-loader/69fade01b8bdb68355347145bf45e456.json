{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\lFros\\\\Documents\\\\prueba\\\\PokeApp-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\lFros\\\\Documents\\\\prueba\\\\PokeApp-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\lFros\\\\Documents\\\\prueba\\\\PokeApp-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\lFros\\\\Documents\\\\prueba\\\\PokeApp-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\lFros\\\\Documents\\\\prueba\\\\PokeApp-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\lFros\\\\Documents\\\\prueba\\\\PokeApp-master\\\\src\\\\containers\\\\PokeListContainer.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport List from '../components/List';\nimport AppNav from '../components/AppNav';\nimport Pagination from '../components/Pagination';\n\nvar PokeListContainer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PokeListContainer, _Component);\n\n  function PokeListContainer() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, PokeListContainer);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(PokeListContainer)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      pokeData: [],\n      currentOffset: 0,\n      pageCounter: 1\n    };\n\n    _this.fetchData = function () {\n      var offset = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var url = \"\".concat(process.env.REACT_APP_POKE_API_BASE_URL, \"pokemon\");\n      var params = {\n        offset: offset,\n        limit: 20\n      };\n      axios.get(url, {\n        params: params\n      }).then(function (res) {\n        var _res$data$slice = res.data.slice(0, 10),\n            results = _res$data$slice.results;\n\n        _this.setState({\n          pokeData: results\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    _this.increment = function () {\n      var _this$state = _this.state,\n          currentOffset = _this$state.currentOffset,\n          pageCounter = _this$state.pageCounter;\n\n      _this.setState({\n        currentOffset: currentOffset + 20,\n        pageCounter: pageCounter + 1\n      });\n    };\n\n    _this.decrement = function () {\n      var _this$state2 = _this.state,\n          currentOffset = _this$state2.currentOffset,\n          pageCounter = _this$state2.pageCounter;\n\n      _this.setState({\n        currentOffset: currentOffset - 20,\n        pageCounter: pageCounter - 1\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(PokeListContainer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.fetchData();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      var currentOffset = this.state.currentOffset;\n\n      if (currentOffset !== prevState.currentOffset) {\n        if (currentOffset < 0) {\n          this.setState({\n            currentOffset: 0,\n            pageCounter: 1\n          });\n          this.fetchData(prevState.currentOffset);\n        }\n\n        this.fetchData(currentOffset);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state3 = this.state,\n          pokeData = _this$state3.pokeData,\n          pageCounter = _this$state3.pageCounter;\n      return React.createElement(React.Fragment, null, React.createElement(AppNav, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }), React.createElement(Pagination, {\n        increment: this.increment,\n        decrement: this.decrement,\n        page: pageCounter,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }), React.createElement(List, {\n        pokedata: pokeData,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return PokeListContainer;\n}(Component);\n\nexport default PokeListContainer;","map":{"version":3,"sources":["C:/Users/lFros/Documents/prueba/PokeApp-master/src/containers/PokeListContainer.js"],"names":["React","Component","axios","List","AppNav","Pagination","PokeListContainer","state","pokeData","currentOffset","pageCounter","fetchData","offset","url","process","env","REACT_APP_POKE_API_BASE_URL","params","limit","get","then","res","data","slice","results","setState","catch","error","console","log","increment","decrement","prevProps","prevState"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAAgC,OAAhC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,oBAAjB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,UAAP,MAAuB,0BAAvB;;IAEMC,iB;;;;;;;;;;;;;;;;;UAEJC,K,GAAO;AACLC,MAAAA,QAAQ,EAAE,EADL;AAELC,MAAAA,aAAa,EAAE,CAFV;AAGLC,MAAAA,WAAW,EAAE;AAHR,K;;UAwBPC,S,GAAY,YAAgB;AAAA,UAAfC,MAAe,uEAAN,CAAM;AAC1B,UAAMC,GAAG,aAAMC,OAAO,CAACC,GAAR,CAAYC,2BAAlB,YAAT;AACA,UAAIC,MAAM,GAAG;AACXL,QAAAA,MAAM,EAAEA,MADG;AAEXM,QAAAA,KAAK,EAAE;AAFI,OAAb;AAIAhB,MAAAA,KAAK,CAACiB,GAAN,CAAUN,GAAV,EAAe;AAAEI,QAAAA,MAAM,EAANA;AAAF,OAAf,EACCG,IADD,CACM,UAAAC,GAAG,EAAI;AAAA,8BACSA,GAAG,CAACC,IAAJ,CAASC,KAAT,CAAe,CAAf,EAAiB,EAAjB,CADT;AAAA,YACHC,OADG,mBACHA,OADG;;AAGX,cAAKC,QAAL,CAAc;AACZjB,UAAAA,QAAQ,EAAEgB;AADE,SAAd;AAID,OARD,EASCE,KATD,CASO,UAAAC,KAAK,EAAG;AACbC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,OAXD;AAYD,K;;UAEDG,S,GAAW,YAAM;AAAA,wBACwB,MAAKvB,KAD7B;AAAA,UACPE,aADO,eACPA,aADO;AAAA,UACQC,WADR,eACQA,WADR;;AAEf,YAAKe,QAAL,CAAc;AACZhB,QAAAA,aAAa,EAAEA,aAAa,GAAG,EADnB;AAEZC,QAAAA,WAAW,EAAEA,WAAW,GAAG;AAFf,OAAd;AAID,K;;UAEDqB,S,GAAW,YAAM;AAAA,yBACwB,MAAKxB,KAD7B;AAAA,UACPE,aADO,gBACPA,aADO;AAAA,UACQC,WADR,gBACQA,WADR;;AAEf,YAAKe,QAAL,CAAc;AACZhB,QAAAA,aAAa,EAAEA,aAAa,GAAG,EADnB;AAEZC,QAAAA,WAAW,EAAEA,WAAW,GAAG;AAFf,OAAd;AAID,K;;;;;;;wCApDmB;AAClB,WAAKC,SAAL;AACD;;;uCAEkBqB,S,EAAUC,S,EAAW;AAAA,UAC9BxB,aAD8B,GACZ,KAAKF,KADO,CAC9BE,aAD8B;;AAEtC,UAAIA,aAAa,KAAKwB,SAAS,CAACxB,aAAhC,EAA+C;AAC7C,YAAIA,aAAa,GAAG,CAApB,EAAwB;AACtB,eAAKgB,QAAL,CAAc;AACZhB,YAAAA,aAAa,EAAE,CADH;AAEZC,YAAAA,WAAW,EAAE;AAFD,WAAd;AAIA,eAAKC,SAAL,CAAesB,SAAS,CAACxB,aAAzB;AACD;;AACD,aAAKE,SAAL,CAAeF,aAAf;AACD;AACF;;;6BAuCQ;AAAA,yBAC2B,KAAKF,KADhC;AAAA,UACCC,QADD,gBACCA,QADD;AAAA,UACWE,WADX,gBACWA,WADX;AAGP,aACE,0CACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE,oBAAC,UAAD;AACE,QAAA,SAAS,EAAE,KAAKoB,SADlB;AAEE,QAAA,SAAS,EAAE,KAAKC,SAFlB;AAGE,QAAA,IAAI,EAAErB,WAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,EAOE,oBAAC,IAAD;AAAM,QAAA,QAAQ,EAAEF,QAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAPF,CADF;AAWD;;;;EA7E6BP,S;;AAgFhC,eAAeK,iBAAf","sourcesContent":["import React,{ Component } from 'react';\nimport axios from 'axios';\nimport List from '../components/List';\nimport AppNav from '../components/AppNav';\nimport Pagination from '../components/Pagination';\n\nclass PokeListContainer extends Component {\n\n  state ={\n    pokeData: [],\n    currentOffset: 0,\n    pageCounter: 1,\n  }\n\n  componentDidMount() {\n    this.fetchData();\n  }\n\n  componentDidUpdate(prevProps,prevState) {\n    const { currentOffset } = this.state;\n    if (currentOffset !== prevState.currentOffset) {\n      if (currentOffset < 0 ) {\n        this.setState({\n          currentOffset: 0,\n          pageCounter: 1,\n        });\n        this.fetchData(prevState.currentOffset);\n      }\n      this.fetchData(currentOffset);\n    }\n  }\n\n  fetchData = (offset = 0) => {\n    const url = `${process.env.REACT_APP_POKE_API_BASE_URL}pokemon`;\n    let params = {\n      offset: offset,\n      limit: 20\n    }\n    axios.get(url, { params })\n    .then(res => {\n      const { results } = res.data.slice(0,10);\n\n      this.setState({\n        pokeData: results,\n      })\n\n    })\n    .catch(error =>{\n      console.log(error);\n    })\n  }\n\n  increment= () => {\n    const { currentOffset, pageCounter } = this.state;\n    this.setState({\n      currentOffset: currentOffset + 20,\n      pageCounter: pageCounter + 1,\n    });\n  }\n\n  decrement= () => {\n    const { currentOffset, pageCounter } = this.state;\n    this.setState({\n      currentOffset: currentOffset - 20,\n      pageCounter: pageCounter - 1,\n    });\n  }\n  \n\n  render() {\n    const { pokeData, pageCounter } = this.state;\n\n    return(\n      <>\n        <AppNav />\n        <Pagination \n          increment={this.increment} \n          decrement={this.decrement} \n          page={pageCounter} \n        />\n        <List pokedata={pokeData} />\n      </>\n    );\n  }\n}\n\nexport default PokeListContainer;"]},"metadata":{},"sourceType":"module"}